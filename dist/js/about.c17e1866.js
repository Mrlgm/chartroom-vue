(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"00f4":function(t,e,s){},"0a49":function(t,e,s){var n=s("9b43"),a=s("626a"),i=s("4bf8"),r=s("9def"),o=s("cd1c");t.exports=function(t,e){var s=1==t,l=2==t,c=3==t,u=4==t,d=6==t,f=5==t||d,h=e||o;return function(e,o,v){for(var m,p,b=i(e),C=a(b),g=n(o,v,3),_=r(C.length),w=0,y=s?h(e,_):l?h(e,0):void 0;_>w;w++)if((f||w in C)&&(m=C[w],p=g(m,w,b),t))if(s)y[w]=p;else if(p)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:y.push(m)}else if(u)return!1;return d?-1:c||u?u:y}}},1169:function(t,e,s){var n=s("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"123d":function(t,e,s){(function(e,s){t.exports=s()})(0,function(){"use strict";var t=function(t,e){"function"===typeof t.scroll?t.scroll({top:t.scrollHeight,behavior:e?"smooth":"instant"}):t.scrollTop=t.scrollHeight},e={bind:function(e,s){var n=!1;e.addEventListener("scroll",function(t){n=e.scrollTop+e.clientHeight+1<e.scrollHeight}),new MutationObserver(function(a){var i=s.value||{},r=!1===i.always&&n;if(i.scrollonremoved){if(r||1!=a[a.length-1].addedNodes.length&&1!=a[a.length-1].removedNodes.length)return}else if(r||1!=a[a.length-1].addedNodes.length)return;t(e,i.smooth)}).observe(e,{childList:!0,subtree:!0})},inserted:t},s={install:function(t,s){t.directive("chat-scroll",e)}};return"undefined"!==typeof window&&window.Vue&&window.Vue.use(s),s})},"123f":function(t,e,s){},1270:function(t,e,s){},2634:function(t,e,s){},2972:function(t,e,s){"use strict";var n=s("7d81"),a=s.n(n);a.a},"380b":function(t,e,s){"use strict";var n=s("00f4"),a=s.n(n);a.a},5458:function(t,e,s){"use strict";var n=s("2634"),a=s.n(n);a.a},7514:function(t,e,s){"use strict";var n=s("5ca1"),a=s("0a49")(5),i="find",r=!0;i in[]&&Array(1)[i](function(){r=!1}),n(n.P+n.F*r,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(i)},"7d81":function(t,e,s){},a304:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message_content",attrs:{id:"messageContent"}},[n("div",{staticClass:"message_list"},[n("ul",{directives:[{name:"chat-scroll",rawName:"v-chat-scroll"}],staticClass:"messages"},t._l(t.messageList,function(e){return n("li",{class:[e.from===t.user.objectId?t.activeClass:""]},[n("div",{staticClass:"time"},[n("span",[t._v(t._s(t._f("formatTime")(e.timestamp)))])]),n("div",{staticClass:"from"},[n("img",{attrs:{src:s("cf05"),alt:""}}),n("div",{staticClass:"content"},[t._v(t._s(e.text))])])])}),0)])])},a=[],i=s("cebc"),r=(s("7f7f"),s("cadf"),s("551c"),s("097d"),s("2f62")),o=s("4fe3"),l=s("0631"),c=s.n(l),u=s("efe0"),d=s("2b0e"),f=s("123d"),h=s.n(f);d["default"].use(h.a);var v={name:"MessageContent",data:function(){return{messageList:[],activeClass:"self_send"}},created:function(){var t=this;this.setCurrentConversationId(this.$route.params.id);var e=c.a.User.current();this.realtime.createIMClient(e).then(function(e){e.getConversation(t.$route.params.id).then(function(e){u["a"].$emit("setTitle",e._attributes.name),t.setCurrentConversation(e),e.queryMessages({limit:100}).then(function(e){t.messageList=e}).catch(console.error.bind(console))}).catch(console.error.bind(console)),e.on(o["Event"].MESSAGE,function(e,s){console.log("[Bob] received a message from ["+e.from+"]: "+e.text),t.messageList.push(e)})}),u["a"].$on("sendSuccess",function(e){t.messageList.push(e)})},computed:Object(i["a"])({},Object(r["d"])(["realtime","user","currentConversationId"])),methods:Object(i["a"])({},Object(r["c"])(["setCurrentConversation","setCurrentConversationId"]))},m=v,p=(s("2972"),s("2877")),b=Object(p["a"])(m,n,a,!1,null,"0a4e22e5",null);b.options.__file="MessageContent.vue";e["default"]=b.exports},ad9b:function(t,e,s){"use strict";var n=s("123f"),a=s.n(n);a.a},bb1b:function(t,e,s){"use strict";var n=s("1270"),a=s.n(n);a.a},cd1c:function(t,e,s){var n=s("e853");t.exports=function(t,e){return new(n(t))(e)}},cf05:function(t,e,s){t.exports=s.p+"img/logo.82b9c7a5.png"},db80:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"conversations"},[s("Layout",{staticClass:"layout"},[s("Sider",{attrs:{breakpoint:"md",width:"300",collapsible:"","collapsed-width":78},model:{value:t.isCollapsed,callback:function(e){t.isCollapsed=e},expression:"isCollapsed"}},[s("SidebarList",{class:t.listItemClasses,attrs:{width:"auto"}}),s("div",{attrs:{slot:"trigger"},slot:"trigger"})],1),s("Layout",[s("Header",{staticClass:"title_bar_wrapper"},[s("Title")],1),s("Content",{staticClass:"message_content_wrapper"},[s("router-view")],1),s("Footer",{staticClass:"send_message_wrapper"},[s("SendMessage")],1)],1)],1)],1)},a=[],i=(s("7514"),s("96cf"),s("3b8d")),r=s("cebc"),o=(s("cadf"),s("551c"),s("097d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"side_list"},[t._m(0),s("div",{staticClass:"message_list"},[s("Card",{staticStyle:{width:"300px"},attrs:{title:"聊天室",padding:0,shadow:""}},[s("CellGroup",[s("Cell",{attrs:{name:"chartRoom",to:"/conversations/5c3e8d989f5454006bf853d8",selected:!0,title:"广场",label:"sss"}})],1)],1),s("Card",{staticStyle:{width:"300px"},attrs:{title:"单聊",icon:"ios-person",padding:0,shadow:""}},[s("CellGroup",{staticClass:"box",on:{"on-click":t.a}},[s("Cell",{attrs:{name:"11",title:"Only show titles",label:"sss"}}),s("Cell",{attrs:{name:"22",title:"Only show titles"}}),s("Cell",{attrs:{name:"33",title:"Only show titles"}}),s("Cell",{attrs:{name:"44",title:"Only show titles"}}),s("Cell",{attrs:{name:"55",title:"Only show titles"}}),s("Cell",{attrs:{title:"With Badge"}},[s("Badge",{attrs:{slot:"extra",count:10},slot:"extra"})],1)],1)],1),s("Card",{staticStyle:{width:"300px"},attrs:{title:"群聊",icon:"ios-people",padding:0,shadow:""}},[s("CellGroup",{staticClass:"box",on:{"on-click":t.a}},[s("Cell",{ref:"11",attrs:{selected:t.isSelected[11],name:"11",title:"Only show titles",label:"sss"}}),s("Cell",{ref:"22",attrs:{selected:t.isSelected[22],name:"22",title:"Only show titles"}}),s("Cell",{ref:"33",attrs:{selected:t.isSelected[33],name:"33",title:"Only show titles"}}),s("Cell",{ref:"44",attrs:{selected:t.isSelected[44],name:"44",title:"Only show titles"}}),s("Cell",{ref:"55",attrs:{selected:t.isSelected[55],name:"55",title:"Only show titles"}}),s("Cell",{ref:"66",attrs:{selected:t.isSelected[66],name:"66",title:"Only show titles"}}),s("Cell",{ref:"77",attrs:{selected:t.isSelected[77],name:"77",title:"With Badge"}},[s("Badge",{attrs:{slot:"extra",count:10},slot:"extra"})],1)],1)],1)],1),s("Card",{staticClass:"last_cord",staticStyle:{width:"300px"},attrs:{shadow:""}},[s("div",[t._v("当前用户："+t._s(t.user.username))]),s("a",{attrs:{slot:"extra"},on:{click:t.onLogout},slot:"extra"},[s("Icon",{attrs:{size:"26",type:"md-exit"}})],1)])],1)}),l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("h1",[t._v("小明聊天室")])])}],c=s("2f62"),u=s("0631"),d=s.n(u),f={name:"SidebarList",data:function(){return{isSelected:{},chartRoomId:""}},computed:Object(r["a"])({},Object(c["d"])(["realtime","user","currentConversationId"])),mounted:function(){var t=this,e=d.a.User.current();this.realtime.createIMClient(e).then(function(e){var s=e.getQuery();s.containsMembers([t.user.objectId]).find().then(function(t){console.log(t)}).catch(console.error.bind(console))})},methods:Object(r["a"])({},Object(c["c"])(["setIsLogin","setUser","setCurrentConversationId"]),Object(c["b"])(["logout"]),{onLogout:function(){var t=this;this.logout().then(function(){t.setIsLogin(!1),t.setUser(null),t.$router.push("/")})},a:function(t){for(var e in this.isSelected)this.isSelected[e]=!1;this.$set(this.isSelected,t,!0)}})},h=f,v=(s("380b"),s("2877")),m=Object(v["a"])(h,o,l,!1,null,"b65f357e",null);m.options.__file="SidebarList.vue";var p=m.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title_bar"},[n("div",[n("h2",[t._v(t._s(t.name))])]),n("img",{attrs:{src:s("cf05"),alt:""}}),n("div",{staticClass:"icon_size"},[n("Icon",{attrs:{size:"30",type:"ios-person-add"}})],1)])},C=[],g=s("efe0"),_={name:"Title",computed:Object(r["a"])({},c["d"]["currentConversation"]),data:function(){return{name:"hello"}},mounted:function(){var t=this;g["a"].$on("setTitle",function(e){t.name=e})}},w=_,y=(s("ad9b"),Object(v["a"])(w,b,C,!1,null,"0a2b27f5",null));y.options.__file="Title.vue";var x=y.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"send_message"},[n("img",{staticStyle:{"margin-right":"8px"},attrs:{src:s("e94e"),alt:""}}),n("Input",{staticStyle:{width:"400px"},attrs:{type:"textarea",placeholder:"Enter something...",clearable:"",autosize:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),n("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",icon:"ios-send"},on:{click:t.pushMessage}},[t._v("Send")])],1)},S=[],j={name:"SendMessage",data:function(){return{value:""}},methods:Object(r["a"])({},Object(c["b"])(["sendMessage"]),{pushMessage:function(){this.sendMessage(this.value).then(function(t){g["a"].$emit("sendSuccess",t)}),this.value=""}})},I=j,L=(s("5458"),Object(v["a"])(I,O,S,!1,null,"3c9a34ea",null));L.options.__file="SendMessage.vue";var M=L.exports,$={name:"Conversations",components:{SidebarList:p,Title:x,SendMessage:M},data:function(){return{isCollapsed:!1}},computed:Object(r["a"])({},Object(c["d"])(["realtime","user","currentConversationId"]),{listItemClasses:function(){return[this.isCollapsed?"list":""]}}),methods:Object(r["a"])({},Object(c["b"])(["checkLogin","findChatRoom"]),{joinChatRoom:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=d.a.User.current(),t.next=3,this.realtime.createIMClient(e).then(function(t){t.getChatRoomQuery().equalTo("name","聊天室").find().then(function(t){return t[0].join()}).then(function(t){}).catch(console.error.bind(console))});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}),created:function(){this.checkLogin(),this.joinChatRoom()}},k=$,E=(s("bb1b"),Object(v["a"])(k,n,a,!1,null,"76df9844",null));E.options.__file="Conversations.vue";e["default"]=E.exports},e853:function(t,e,s){var n=s("d3f4"),a=s("1169"),i=s("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),n(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}},e94e:function(t,e,s){t.exports=s.p+"img/avatar.b0b1f026.jpeg"},efe0:function(t,e,s){"use strict";var n=s("2b0e");e["a"]=new n["default"]}}]);
//# sourceMappingURL=about.c17e1866.js.map